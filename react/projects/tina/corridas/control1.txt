# Estado inicial de las luzes
red_DO_1.send(F)
yellow_DO_1.send(F)
green_DO_1.send(T)
# Que el se√±al de cambio detectado va a ser activo varias segundos,
# esperemos 30 segundos primero.
sys.wait(00:30)
# Esperar 7 minutos 30 segundos mas, o hasta que detectamos un cambio
sys.wait_until("changing_filter_1", 7:30)
# Poner luz amarillo
green_DO_1.send(F)
yellow_DO_1.send(T)
# Esperar 1 minutos 30 segundos para que cambian el filtro
sys.wait_until("changing_filter_1", 1:30)
# Empezar blinking cada segundo el amarillo
yellow_DO_1.blink(1.0)
# Esperar 30 seguandos mas
sys.wait_until("changing_filter_1", 0:30)
if ("not changing_filter_1")
# Si NO cambiaron el filtro en los primeros dos minutos, poner el rojo blinking
yellow_DO_1.send(F)
red_DO_1.blink(1.0)
# Esparamos que cambien el filtro, SIN timeout.
sys.wait_until("changing_filter_1", 0:00)
# Ok, cambiaron el filtro!!
endif
sys.loop()
